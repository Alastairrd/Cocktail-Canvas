<!doctype html>
<html>
  <head>
    <title>Register for <%=appData.appName%></title>
    <link rel="stylesheet"  type="text/css" href="/main.css" />
  </head>
  <body>
    <!--top navigation bar, with reactive login/logout-->
    <nav class="topnav">
      <ul>
        <li><a class="active" href="../"><%=appData.appName%></a></li>
        <li><a href="../list">Lists</a></li> 
        <li><a href="../search">Search</a></li> 
        <li><a href="../menus/editlist">Edit Menus</a></li> 
        <li><a href="../menus/create">Create Menu</a></li>
        <li><a href="../about">About</a></li>
      <!--if no user, show login-->
      <% if(user == null){ %>
          <li class="right"><a href="../users/login">Log in</a></li>
      <!--if user exists, show logout-->
      <% } else { %>
          <li class="right"><a href="../logout">Logout</a></li>
          <% } %>
      </ul>
    </nav>
    <main>
      <!--headings-->
      <div class="flex-container centred">
        <h1 class="heading full-width" >Register for <%=appData.appName%></h1>
        <!--error handling-->
        <% if(errors && errors.length > 0) { %>
          <% for(let i=0; i<errors.length; i++) { %>
            <p class="full-width">Error: <%=errors[i].msg%> at (<%=errors[i].path%>)</p>
          <% } %>
        <% } %>
        <!--registration form-->
        <form method="POST" action="../../api/register" autocomplete="off">
          
          <p>Fields marked with * are required.</p><br>
          <p>* Username: <input id="username" type="text" name="username" value="" minlength ="8" maxlength="16" required/></p>
          <p>* Password: <input id="password" type="password" name="password" value="" minlength ="8" maxlength="24" required/></p>
          <p>* Email: <input id="email" type="email" name="email" required></p>
          <p>First name: <input id="first" type="text" name="first" /></p>
          <p>Last name: <input id="last" type="text" name="last"/></p>
          <p>Company: <input id="company" type="text" name="company"/></p>
          <input class="basic-button" type="submit" value="Register" />
        </form>
      </div>  
    </main>
  </body>
</html>